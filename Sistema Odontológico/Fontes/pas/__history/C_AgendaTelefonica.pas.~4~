unit C_AgendaTelefonica;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Padrao, Vcl.Buttons, Vcl.Mask,
  Vcl.StdCtrls, JvComponentBase, JvEnterTab, Vcl.ComCtrls, Vcl.ExtCtrls,
  Data.DB, Data.Win.ADODB;

type
  TfrmCadAgendaTel = class(TfrmPadrao)
    GroupBox1: TGroupBox;
    Label1: TLabel;
    Label2: TLabel;
    EdtNome: TEdit;
    EdtTelefone: TMaskEdit;
    EdtCelular: TMaskEdit;
    Label3: TLabel;
    Label4: TLabel;
    EdtObservacao: TEdit;
    btnFechar: TSpeedButton;
    btnSalvar: TSpeedButton;
    qryAux: TADOQuery;
    procedure btnFecharClick(Sender: TObject);
  private
    { Private declarations }
    bEditar : Boolean;
  public
    { Public declarations }
    iIDAgenda : Integer;
    Procedure CarregaDados;
  end;

var
  frmCadAgendaTel: TfrmCadAgendaTel;

implementation

{$R *.dfm}

procedure TfrmCadAgendaTel.btnFecharClick(Sender: TObject);
begin
  inherited;
  Close;
end;

procedure TfrmCadAgendaTel.CarregaDados;
begin
  With qryAux do
    Begin
      Close;
      SQL.Clear;
      SQL.Add('SELECT ID_AGENDATELEFONE, NOME, TELEFONE, CELULAR, DESCRICAO FROM AGENDATELEFONE');
      SQL.Add('WHERE ID_AGENDATELEFONE = :pID');
      Parameters.ParamByName('pID').Value = iIDAgenda;
      Open;

      EdtNome.Text := FieldByname('NOME').AsString;
      EdtTelefone.Text := FieldByName('TELEFONE').AsString;
      EdtCelular.Text := FieldByName('CELULAR').AsString;
      EdtObservacao.Text := FieldByName('DESCRICAO').AsString;

      bEditar := True;
    End;
end;

end.
